(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[641],{22405:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>F});var s=a(95155),i=a(12115),r=a(54429),n=a(13563),l=a(22544),d=a(8476),o=a(3761),c=a(7439),m=a(4280),u=a(54851),p=a(36747),x=a(29875),h=a(23484),y=a(69210),b=a(88407),j=a(85986),v=a(74891),f=a(15555),g=a(15065),D=a(36245),N=a(6191),E=a(86651),A=a(26983),C=a(90799),T=a(71360),w=a(16485),P=a(46046),k=a(42816);function F(){var e;let{data:t,isLoading:a}=(0,k.B)(),{upsertEvent:F,removeEvent:O}=(0,k.D)(),{isOpen:S,onOpen:I,onClose:z}=(0,r.j)(),[R,J]=(0,i.useState)(null),[V,M]=(0,i.useState)(""),L={Exam:"primary",Admin:"warning",Academic:"secondary",Holiday:"success"},H=(null==t?void 0:t.events.filter(e=>e.title.toLowerCase().includes(V.toLowerCase())||e.month.toLowerCase().includes(V.toLowerCase())))||[];return a||!t?(0,s.jsx)("div",{className:"p-10 text-center uppercase font-black animate-pulse",children:"Loading Registry..."}):(0,s.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-8",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-4xl font-black tracking-tight uppercase",children:["Academic ",(0,s.jsx)("span",{className:"text-primary",children:"Registry"})]}),(0,s.jsx)("p",{className:"text-default-500 font-medium",children:"Manage annual milestones, examination periods, and official holidays."})]}),(0,s.jsx)(n.T,{color:"primary",size:"lg",className:"font-bold shadow-xl shadow-primary/20",startContent:(0,s.jsx)(N.A,{size:20}),onPress:()=>{J({id:crypto.randomUUID(),type:"Academic",month:"August",cite:3}),I()},children:"Add Event"})]}),(0,s.jsx)("div",{className:"flex gap-4 p-4 bg-content1 rounded-2xl border border-divider shadow-sm",children:(0,s.jsx)(l.r,{className:"max-w-md",placeholder:"Search events or months...",startContent:(0,s.jsx)(E.A,{size:18,className:"text-default-400"}),value:V,onValueChange:M})}),(0,s.jsxs)(d.j,{"aria-label":"Academic Calendar Table",classNames:{wrapper:"rounded-3xl border border-divider bg-content1 shadow-none overflow-hidden p-0",th:"bg-default-50 py-4 text-default-600 font-bold uppercase text-[10px] tracking-widest border-b border-divider",td:"py-4"},children:[(0,s.jsxs)(o.X,{children:[(0,s.jsx)(c.e,{children:"MONTH"}),(0,s.jsx)(c.e,{children:"EVENT TITLE"}),(0,s.jsx)(c.e,{children:"TYPE"}),(0,s.jsx)(c.e,{children:"DATE RANGE"}),(0,s.jsx)(c.e,{align:"end",children:"ACTIONS"})]}),(0,s.jsx)(m.E,{items:H,emptyContent:"No events found for this session.",children:e=>(0,s.jsxs)(u.s,{className:"hover:bg-default-50/50 transition-colors",children:[(0,s.jsx)(p.w,{className:"font-bold uppercase text-xs tracking-tighter text-primary",children:e.month}),(0,s.jsx)(p.w,{className:"font-bold text-foreground",children:e.title}),(0,s.jsx)(p.w,{children:(0,s.jsx)(x.R,{size:"sm",variant:"flat",color:L[e.type],className:"font-black uppercase text-[9px]",children:e.type})}),(0,s.jsx)(p.w,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-default-500 text-xs font-mono font-bold",children:[(0,s.jsx)(A.A,{size:14,className:"text-default-300"}),e.startDate," ",e.endDate?"â†’ ".concat(e.endDate):""]})}),(0,s.jsx)(p.w,{children:(0,s.jsxs)("div",{className:"flex justify-end gap-1",children:[(0,s.jsx)(h.I,{content:"Edit Event",children:(0,s.jsx)(n.T,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>{J(e),I()},children:(0,s.jsx)(C.A,{size:16,className:"text-default-400"})})}),(0,s.jsx)(h.I,{color:"danger",content:"Remove",children:(0,s.jsx)(n.T,{isIconOnly:!0,size:"sm",variant:"light",color:"danger",onPress:()=>{confirm("Delete event?")&&O(e.id)},children:(0,s.jsx)(T.A,{size:16})})})]})})]},e.id)})]}),(0,s.jsx)(y.Y,{isOpen:S,onClose:z,size:"2xl",backdrop:"blur",children:(0,s.jsx)(b.g,{children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=new FormData(e.currentTarget);F({...R,title:t.get("title"),month:t.get("month"),type:t.get("type"),startDate:t.get("startDate"),endDate:t.get("endDate")||void 0,cite:Number(t.get("cite"))}),z()},children:[(0,s.jsxs)(j.c,{className:"flex items-center gap-3 py-6 border-b border-divider",children:[(0,s.jsx)("div",{className:"p-2 bg-primary/10 text-primary rounded-lg",children:(0,s.jsx)(w.A,{size:20})}),(0,s.jsx)("h2",{className:"text-xl font-black uppercase tracking-tighter",children:(null==R?void 0:R.title)?"Modify Milestone":"New Academic Event"})]}),(0,s.jsxs)(v.h,{className:"py-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(l.r,{name:"title",label:"EVENT TITLE",labelPlacement:"outside",placeholder:"e.g. Final Examination",defaultValue:null==R?void 0:R.title,isRequired:!0,variant:"bordered"}),(0,s.jsx)(f.d,{name:"month",label:"MONTH",labelPlacement:"outside",variant:"bordered",defaultSelectedKeys:(null==R?void 0:R.month)?[R.month]:[],children:t.months.map(e=>(0,s.jsx)(g.y,{children:e},e))}),(0,s.jsx)(f.d,{name:"type",label:"EVENT CATEGORY",labelPlacement:"outside",variant:"bordered",defaultSelectedKeys:(null==R?void 0:R.type)?[R.type]:[],children:["Exam","Admin","Academic","Holiday"].map(e=>(0,s.jsx)(g.y,{children:e},e))}),(0,s.jsx)(l.r,{name:"cite",label:"CITATION INDEX",labelPlacement:"outside",type:"number",defaultValue:null==R||null==(e=R.cite)?void 0:e.toString(),variant:"bordered"}),(0,s.jsx)(l.r,{name:"startDate",label:"START DATE",labelPlacement:"outside",type:"date",defaultValue:null==R?void 0:R.startDate,isRequired:!0,variant:"bordered"}),(0,s.jsx)(l.r,{name:"endDate",label:"END DATE (OPTIONAL)",labelPlacement:"outside",type:"date",defaultValue:null==R?void 0:R.endDate,variant:"bordered"})]}),(0,s.jsxs)(D.q,{className:"border-t border-divider py-4",children:[(0,s.jsx)(n.T,{variant:"light",className:"font-bold",onPress:z,children:"Discard"}),(0,s.jsx)(n.T,{color:"primary",type:"submit",className:"font-black px-10 shadow-lg shadow-primary/20",startContent:(0,s.jsx)(P.A,{size:18}),children:"Confirm Changes"})]})]})})})]})}},42816:(e,t,a)=>{"use strict";a.d(t,{B:()=>l,D:()=>d});var s=a(22454),i=a(99776),r=a(80549);let n={months:["August","September","October","November","December","January","February","March","April","May","June","July"],events:[{id:"aug-1",month:"August",title:"Concours (Entrance Exam)",type:"Exam",startDate:"2024-08-20",endDate:"2024-08-22",cite:1},{id:"sep-1",month:"September",title:"Jury de septembre",type:"Admin",startDate:"2024-09-04",endDate:"2024-09-13",cite:1},{id:"sep-2",month:"September",title:"Pr\xe9-rentr\xe9e",type:"Academic",startDate:"2024-09-10",cite:1},{id:"sep-3",month:"September",title:"Concours in 13 3",type:"Exam",startDate:"2024-09-11",cite:1},{id:"sep-4",month:"September",title:"Jury de septembre (Final)",type:"Admin",startDate:"2024-09-20",cite:1},{id:"oct-1",month:"October",title:"F\xeate des Morts (Pchum Ben)",type:"Holiday",startDate:"2024-10-02",endDate:"2024-10-03",cite:1},{id:"oct-2",month:"October",title:"Rentr\xe9e scolaire",type:"Academic",startDate:"2024-10-15",cite:1},{id:"oct-3",month:"October",title:"Fin d'ann\xe9e de IT et TI",type:"Academic",startDate:"2024-10-10",cite:1},{id:"nov-1",month:"November",title:"F\xeate des Eaux (Water Festival)",type:"Holiday",startDate:"2024-11-14",endDate:"2024-11-15",cite:1},{id:"jan-1",month:"January",title:"Fin semestre (Exam Period)",type:"Exam",startDate:"2025-01-21",cite:1},{id:"feb-1",month:"February",title:"Pr\xe9-CEVU Council",type:"Admin",startDate:"2025-02-22",cite:1},{id:"feb-2",month:"February",title:"DEVU Council",type:"Admin",startDate:"2025-02-20",cite:1},{id:"may-1",month:"May",title:"Fin semestre (Finals)",type:"Exam",startDate:"2025-05-20",endDate:"2025-05-22",cite:1},{id:"jun-1",month:"June",title:"Fin semestre 2",type:"Exam",startDate:"2025-06-10",cite:1},{id:"jul-1",month:"July",title:"Semaine de rattrapage",type:"Academic",startDate:"2025-07-01",endDate:"2025-07-03",cite:1},{id:"jul-2",month:"July",title:"Concours en 13 3",type:"Exam",startDate:"2025-07-13",cite:1}],glossary:[{term:"Concours",description:"Competitive entrance examination period for university admission."},{term:"Jury",description:"Academic board session for validating grades and student progression."},{term:"Rattrapage",description:"Remedial week for students to catch up on coursework or failed exams."}]};function l(){return(0,s.I)({queryKey:["academicCalendar"],queryFn:async()=>n,staleTime:1/0})}function d(){let e=(0,i.jE)(),t=(0,r.n)({mutationFn:async e=>e,onSuccess:t=>e.setQueryData(["academicCalendar"],t)});return{upsertEvent:a=>{let s=e.getQueryData(["academicCalendar"]);if(!s)return;let i=s.events.find(e=>e.id===a.id)?s.events.map(e=>e.id===a.id?a:e):[...s.events,a];t.mutate({...s,events:i})},removeEvent:a=>{let s=e.getQueryData(["academicCalendar"]);s&&t.mutate({...s,events:s.events.filter(e=>e.id!==a)})},isPending:t.isPending}}},78496:(e,t,a)=>{Promise.resolve().then(a.bind(a,22405))}},e=>{e.O(0,[7793,1828,1568,2059,2454,280,6879,324,3540,1629,3586,2114,6715,3927,3821,1443,6876,3435,3484,8847,8441,1255,7358],()=>e(e.s=78496)),_N_E=e.O()}]);