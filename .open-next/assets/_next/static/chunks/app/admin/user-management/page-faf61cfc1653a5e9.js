(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[408],{6214:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>F});var t=a(95155),r=a(12115),i=a(54429),n=a(13563),l=a(22544),d=a(8476),c=a(3761),o=a(7439),x=a(4280),u=a(54851),m=a(36747),p=a(91517),h=a(29875),j=a(23484),b=a(78231),g=a(63941),f=a(66077),v=a(59187),y=a(69210),N=a(88407),w=a(85986),A=a(74891),k=a(71295),P=a(91454),S=a(36245),z=a(96583),C=a(86651),_=a(5370),I=a(52508),T=a(20017),E=a(89470),O=a(99708),R=a(71360),L=a(76907),M=a(23664),q=a(22454),D=a(99776),U=a(80549);let V=[{id:"u-1",name:"Admin User",email:"admin@gic.itc.edu",role:"SuperAdmin",status:"Active",permissions:["all"],lastLogin:"2026-01-28T07:00:00Z"},{id:"u-2",name:"Sok Rath",email:"sok.rath@student.itc.edu",role:"Editor",status:"Active",permissions:["edit_projects","view_calendar"],lastLogin:"2026-01-27T14:30:00Z"}];function F(){let{data:e,isLoading:s}=(0,q.I)({queryKey:["users"],queryFn:async()=>V,staleTime:3e5}),{upsertUser:a,resetPassword:F,generateOTP:Y}=function(){let e=(0,D.jE)(),s=(0,U.n)({mutationFn:async e=>e,onSuccess:()=>e.invalidateQueries({queryKey:["users"]})});return{upsertUser:s.mutate,resetPassword:e=>{console.log("Password reset email triggered for: ".concat(e)),alert("System: Recovery link sent to user email.")},generateOTP:e=>{let s=Math.floor(1e5+9e5*Math.random());console.log("OTP for ".concat(e,": ").concat(s)),alert("Temporary Access Code: ".concat(s," (Valid for 5 mins)"))},isUpdating:s.isPending}}(),{isOpen:K,onOpen:Q,onClose:Z}=(0,i.j)(),[B,G]=(0,r.useState)(null),[H,X]=(0,r.useState)(""),J={SuperAdmin:"danger",Editor:"warning",Viewer:"primary",Student:"default"};return(0,t.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-8 animate-in fade-in duration-500",children:[(0,t.jsxs)("div",{className:"flex justify-between items-end pb-8 border-b border-divider",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-4xl font-black uppercase tracking-tighter italic",children:["Identity ",(0,t.jsx)("span",{className:"text-blue-600",children:"Hub"})]}),(0,t.jsx)("p",{className:"text-default-500 font-medium",children:"RBAC Security & Credential Management"})]}),(0,t.jsx)(n.T,{color:"primary",size:"lg",className:"font-black px-8",startContent:(0,t.jsx)(z.A,{size:20}),onPress:()=>{G({id:crypto.randomUUID(),permissions:[]}),Q()},children:"Add Officer"})]}),(0,t.jsx)("div",{className:"flex gap-4 p-4 bg-content1 rounded-[2rem] border border-divider shadow-sm",children:(0,t.jsx)(l.r,{className:"max-w-md",placeholder:"Search by name, email or role...",startContent:(0,t.jsx)(C.A,{size:18,className:"text-default-400"}),value:H,onValueChange:X})}),(0,t.jsxs)(d.j,{"aria-label":"User Management",classNames:{wrapper:"rounded-[1rem] border border-divider shadow-none p-0 overflow-hidden"},children:[(0,t.jsxs)(c.X,{children:[(0,t.jsx)(o.e,{className:"bg-default-50 py-4 font-black text-[10px] tracking-widest uppercase",children:"Identity"}),(0,t.jsx)(o.e,{className:"bg-default-50 py-4 font-black text-[10px] tracking-widest uppercase",children:"Access Role"}),(0,t.jsx)(o.e,{className:"bg-default-50 py-4 font-black text-[10px] tracking-widest uppercase",children:"Status"}),(0,t.jsx)(o.e,{className:"bg-default-50 py-4 font-black text-[10px] tracking-widest uppercase",children:"Last Sync"}),(0,t.jsx)(o.e,{align:"end",className:"bg-default-50 py-4 font-black text-[10px] tracking-widest uppercase",children:"Security Controls"})]}),(0,t.jsx)(x.E,{emptyContent:"Initializing Identity Manifest...",children:(e||[]).map(e=>(0,t.jsxs)(u.s,{className:"border-b border-divider last:border-none hover:bg-default-50/50",children:[(0,t.jsx)(m.w,{children:(0,t.jsx)(p.S,{name:e.name,description:e.email,avatarProps:{radius:"lg",src:"https://i.pravatar.cc/150?u=".concat(e.id)}})}),(0,t.jsx)(m.w,{children:(0,t.jsx)(h.R,{size:"sm",color:J[e.role],variant:"flat",className:"font-black text-[9px] uppercase tracking-tighter",children:e.role})}),(0,t.jsx)(m.w,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full ".concat("Active"===e.status?"bg-success":"bg-danger")}),(0,t.jsx)("span",{className:"text-xs font-bold",children:e.status})]})}),(0,t.jsx)(m.w,{className:"text-[11px] font-mono text-default-500",children:new Date(e.lastLogin).toLocaleString()}),(0,t.jsx)(m.w,{children:(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(j.I,{content:"Reset Password",children:(0,t.jsx)(n.T,{isIconOnly:!0,size:"sm",variant:"flat",onPress:()=>F(e.id),children:(0,t.jsx)(_.A,{size:16})})}),(0,t.jsx)(j.I,{content:"Generate OTP",children:(0,t.jsx)(n.T,{isIconOnly:!0,size:"sm",variant:"flat",onPress:()=>Y(e.id),children:(0,t.jsx)(I.A,{size:16})})}),(0,t.jsxs)(b.A,{children:[(0,t.jsx)(g.b,{children:(0,t.jsx)(n.T,{isIconOnly:!0,size:"sm",variant:"light",children:(0,t.jsx)(T.A,{size:16})})}),(0,t.jsxs)(f.y,{children:[(0,t.jsx)(v.Y,{startContent:(0,t.jsx)(E.A,{size:16}),onPress:()=>{G(e),Q()},children:"Edit Permissions"},"1"),(0,t.jsx)(v.Y,{startContent:(0,t.jsx)(O.A,{size:16}),color:"warning",children:"Suspend Access"},"2"),(0,t.jsx)(v.Y,{startContent:(0,t.jsx)(R.A,{size:16}),className:"text-danger",color:"danger",children:"Delete Profile"},"3")]})]})]})})]},e.id))})]}),(0,t.jsx)(y.Y,{isOpen:K,onClose:Z,size:"3xl",backdrop:"blur",children:(0,t.jsx)(N.g,{children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),Z()},children:[(0,t.jsxs)(w.c,{className:"flex gap-3 py-6 border-b border-divider",children:[(0,t.jsx)(L.A,{size:24,className:"text-blue-600"}),(0,t.jsx)("h2",{className:"text-2xl font-black uppercase tracking-tighter",children:"Profile Configuration"})]}),(0,t.jsxs)(A.h,{className:"py-8 grid grid-cols-2 gap-8",children:[(0,t.jsx)(l.r,{label:"FULL NAME",defaultValue:null==B?void 0:B.name,isRequired:!0,labelPlacement:"outside",variant:"bordered"}),(0,t.jsx)(l.r,{label:"EMAIL ADDRESS",defaultValue:null==B?void 0:B.email,startContent:(0,t.jsx)(M.A,{size:16}),isRequired:!0,labelPlacement:"outside",variant:"bordered"}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-default-400 mb-4",children:"Functional Permissions"}),(0,t.jsxs)(k._,{defaultValue:null==B?void 0:B.permissions,orientation:"horizontal",className:"gap-6",children:[(0,t.jsx)(P.A,{value:"edit_projects",children:"Edit Projects"}),(0,t.jsx)(P.A,{value:"manage_faq",children:"Manage FAQ"}),(0,t.jsx)(P.A,{value:"view_calendar",children:"View Calendar"}),(0,t.jsx)(P.A,{value:"publish_news",children:"Publish News"}),(0,t.jsx)(P.A,{value:"admin_access",children:"Full Admin"})]})]})]}),(0,t.jsxs)(S.q,{className:"border-t border-divider py-6",children:[(0,t.jsx)(n.T,{variant:"light",className:"font-bold",onPress:Z,children:"Discard"}),(0,t.jsx)(n.T,{color:"primary",type:"submit",className:"font-black px-12 shadow-lg shadow-blue-600/20 uppercase tracking-widest",children:"Sync Identity"})]})]})})})]})}},73857:(e,s,a)=>{Promise.resolve().then(a.bind(a,6214))}},e=>{e.O(0,[7793,1828,1568,2059,2454,280,6879,324,3540,1629,3586,2114,6715,3927,3821,1443,6876,3484,6713,1908,4740,8441,1255,7358],()=>e(e.s=73857)),_N_E=e.O()}]);