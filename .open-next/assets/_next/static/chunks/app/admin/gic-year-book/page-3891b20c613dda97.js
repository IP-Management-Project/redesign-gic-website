(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7464],{5284:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>z});var s=t(95155),r=t(12115),l=t(54429),n=t(13563),i=t(80331),o=t(22544),d=t(15555),c=t(15065),u=t(23484),m=t(8476),h=t(3761),x=t(7439),p=t(4280),g=t(54851),f=t(36747),b=t(25623),j=t(29875),v=t(69210),N=t(88407),y=t(85986),w=t(74891),C=t(6005),S=t(36245),k=t(21786),A=t(96583),q=t(86651),T=t(13804),E=t(90799),P=t(71360),I=t(44953),L=t(61362),D=t(6132),O=t(51850);function z(){let{data:e}=(0,O.r)(),a=function(e){let[a,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(""),[n,i]=(0,r.useState)("ALL"),[o,d]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(null==e?void 0:e.generations){let a=[];Object.entries(e.generations).forEach(e=>{let[t,s]=e;s.forEach((e,s)=>{a.push({...e,id:"".concat(t,"-").concat(s,"-").concat(Date.now()),generation:t})})}),t(a)}},[e]);let c=(0,r.useMemo)(()=>["ALL",...Array.from(new Set(a.map(e=>e.generation)))],[a]);return{entries:(0,r.useMemo)(()=>a.filter(e=>{let a=e.name.toLowerCase().includes(s.toLowerCase())||e.quote.toLowerCase().includes(s.toLowerCase()),t="ALL"===n||e.generation===n;return a&&t}),[a,s,n]),generations:c,search:s,setSearch:l,genFilter:n,setGenFilter:i,isDeleting:o,setIsDeleting:d,localEntries:a,setLocalEntries:t}}(e),{isOpen:t,onOpen:z,onClose:R}=(0,l.j)(),{isOpen:G,onOpen:V,onClose:Y}=(0,l.j)(),[B,M]=(0,r.useState)(null),[_,K]=(0,r.useState)(null),F=async()=>{if(!_)return;let e=(await _.text()).split("\n").filter(e=>""!==e.trim()).slice(1).map((e,a)=>{let[t,s,r,l]=e.split(",").map(e=>e.trim());return{id:"bulk-".concat(Date.now(),"-").concat(a),name:t,quote:s,image:r,generation:l}});a.setLocalEntries(a=>[...e,...a]),K(null),Y()};return(0,s.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-8 animate-in fade-in duration-500",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-4xl font-black tracking-tight text-foreground",children:["Student ",(0,s.jsx)("span",{className:"text-primary",children:"Yearbook"})]}),(0,s.jsx)("p",{className:"text-default-500 mt-1 font-medium italic",children:'"Capturing the legacy of GIC excellence, one generation at a time."'})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(n.T,{variant:"flat",className:"font-bold border border-divider",startContent:(0,s.jsx)(k.A,{size:18}),onPress:V,children:"Bulk CSV"}),(0,s.jsx)(n.T,{color:"primary",className:"font-bold shadow-lg shadow-primary/20",startContent:(0,s.jsx)(A.A,{size:18}),onPress:()=>{M(null),z()},children:"Add Student"})]})]}),(0,s.jsxs)(i.Z,{className:"p-4 border-none shadow-sm bg-content1/70 backdrop-blur-md flex flex-col md:flex-row gap-4",children:[(0,s.jsx)(o.r,{className:"flex-1",placeholder:"Search by student name or quote keywords...",startContent:(0,s.jsx)(q.A,{size:18,className:"text-default-400"}),value:a.search,onValueChange:a.setSearch,variant:"flat"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(d.d,{className:"w-48",placeholder:"All Generations",selectedKeys:[a.genFilter],onSelectionChange:e=>a.setGenFilter(Array.from(e)[0]),children:a.generations.map(e=>(0,s.jsx)(c.y,{children:"ALL"===e?"All Generations":e},e))}),(0,s.jsx)(u.I,{content:"Refresh Data",children:(0,s.jsx)(n.T,{isIconOnly:!0,variant:"flat",onPress:()=>window.location.reload(),children:(0,s.jsx)(T.A,{size:18})})})]})]}),(0,s.jsxs)(m.j,{"aria-label":"Student database",shadow:"none",classNames:{wrapper:"rounded-3xl border border-divider bg-content1 p-0 overflow-hidden",th:"bg-default-50 py-4 text-default-600 font-bold uppercase text-[11px] tracking-widest border-b border-divider",td:"py-4 font-medium"},children:[(0,s.jsxs)(h.X,{children:[(0,s.jsx)(x.e,{children:"STUDENT IDENTITY"}),(0,s.jsx)(x.e,{children:"CLASS GENERATION"}),(0,s.jsx)(x.e,{children:"YEARBOOK QUOTE"}),(0,s.jsx)(x.e,{align:"end",children:"MANAGEMENT"})]}),(0,s.jsx)(p.E,{emptyContent:"No records found. Try adjusting your search.",children:a.entries.map(e=>(0,s.jsxs)(g.s,{className:"hover:bg-default-50/50 transition-colors",children:[(0,s.jsx)(f.w,{children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(b.Q,{src:e.image,radius:"lg",className:"w-12 h-12 shadow-sm border border-divider"}),(0,s.jsx)("span",{className:"font-bold text-base",children:e.name})]})}),(0,s.jsx)(f.w,{children:(0,s.jsx)(j.R,{size:"sm",variant:"dot",color:"primary",className:"font-bold border-none",children:e.generation})}),(0,s.jsxs)(f.w,{className:"max-w-md italic text-default-500 leading-relaxed",children:['"',e.quote,'"']}),(0,s.jsx)(f.w,{children:(0,s.jsxs)("div",{className:"flex justify-end gap-1",children:[(0,s.jsx)(n.T,{isIconOnly:!0,variant:"light",radius:"full",size:"sm",onPress:()=>{M(e),z()},children:(0,s.jsx)(E.A,{size:16,className:"text-default-400"})}),(0,s.jsx)(n.T,{isIconOnly:!0,variant:"light",radius:"full",size:"sm",color:"danger",onPress:()=>a.setIsDeleting(e.id),children:(0,s.jsx)(P.A,{size:16})})]})})]},e.id))})]}),(0,s.jsx)(v.Y,{isOpen:t,onClose:R,size:"2xl",backdrop:"blur",children:(0,s.jsxs)(N.g,{children:[(0,s.jsx)(y.c,{className:"flex flex-col gap-1 py-6 border-b border-divider",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg text-primary",children:(0,s.jsx)(E.A,{size:20})}),(0,s.jsx)("h2",{className:"text-xl font-bold",children:B?"Edit Profile":"New Student Entry"})]})}),(0,s.jsxs)(w.h,{className:"py-8 gap-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)(o.r,{label:"Student Name",placeholder:"e.g. Sok Rathana",labelPlacement:"outside",variant:"bordered",defaultValue:null==B?void 0:B.name}),(0,s.jsx)(o.r,{label:"Generation",placeholder:"e.g. Gen 8",labelPlacement:"outside",variant:"bordered",defaultValue:null==B?void 0:B.generation})]}),(0,s.jsx)(o.r,{label:"Portrait Image URL",placeholder:"https://i.pravatar.cc/...",labelPlacement:"outside",variant:"bordered",defaultValue:null==B?void 0:B.image}),(0,s.jsx)(C.P,{label:"Yearbook Quote",placeholder:"Enter an inspiring quote...",labelPlacement:"outside",variant:"bordered",minRows:3,defaultValue:null==B?void 0:B.quote})]}),(0,s.jsxs)(S.q,{className:"border-t border-divider py-4",children:[(0,s.jsx)(n.T,{variant:"light",className:"font-bold",onPress:R,children:"Discard"}),(0,s.jsx)(n.T,{color:"primary",className:"font-bold px-8",onPress:()=>{R()},children:B?"Update Profile":"Create Entry"})]})]})}),(0,s.jsx)(v.Y,{isOpen:G,onClose:Y,size:"md",backdrop:"blur",children:(0,s.jsxs)(N.g,{children:[(0,s.jsx)(y.c,{className:"py-6 border-b border-divider",children:"Bulk CSV Import"}),(0,s.jsx)(w.h,{className:"py-8",children:(0,s.jsxs)("div",{className:"relative border-2 border-dashed border-divider rounded-3xl p-10 flex flex-col items-center justify-center gap-4 bg-default-50 hover:bg-default-100 transition-colors cursor-pointer group",children:[(0,s.jsx)("div",{className:"p-4 bg-background rounded-2xl shadow-sm group-hover:scale-110 transition-transform",children:(0,s.jsx)(I.A,{size:40,className:"text-primary"})}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"font-bold text-lg",children:"Select CSV File"}),(0,s.jsx)("p",{className:"text-xs text-default-400 mt-2",children:"Required: name, quote, image, generation"})]}),(0,s.jsx)("input",{type:"file",accept:".csv",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:e=>{var a;return K((null==(a=e.target.files)?void 0:a[0])||null)}}),_&&(0,s.jsx)(j.R,{color:"success",variant:"flat",className:"mt-2 font-bold",startContent:(0,s.jsx)(L.A,{size:14}),children:_.name})]})}),(0,s.jsxs)(S.q,{className:"border-t border-divider py-4",children:[(0,s.jsx)(n.T,{variant:"light",className:"font-bold",onPress:Y,children:"Cancel"}),(0,s.jsx)(n.T,{color:"primary",className:"font-bold px-10",isDisabled:!_,onPress:F,children:"Start Import"})]})]})}),(0,s.jsx)(v.Y,{isOpen:!!a.isDeleting,onClose:()=>a.setIsDeleting(null),size:"sm",backdrop:"blur",hideCloseButton:!0,children:(0,s.jsxs)(N.g,{children:[(0,s.jsxs)(w.h,{className:"p-10 text-center flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-danger/10 text-danger rounded-full flex items-center justify-center mb-6 animate-pulse",children:(0,s.jsx)(D.A,{size:40})}),(0,s.jsx)("h3",{className:"text-2xl font-black",children:"Remove Profile?"}),(0,s.jsx)("p",{className:"text-default-500 text-sm mt-3 leading-relaxed",children:"This action will permanently remove the student from the yearbook database. This cannot be undone."})]}),(0,s.jsxs)(S.q,{className:"flex flex-col gap-2 pb-10 px-10 border-none",children:[(0,s.jsx)(n.T,{color:"danger",className:"font-black w-full text-lg shadow-lg shadow-danger/20",onPress:()=>{a.setLocalEntries(e=>e.filter(e=>e.id!==a.isDeleting)),a.setIsDeleting(null)},children:"Confirm Delete"}),(0,s.jsx)(n.T,{variant:"light",className:"font-bold w-full",onPress:()=>a.setIsDeleting(null),children:"Keep Profile"})]})]})})]})}},50177:(e,a,t)=>{Promise.resolve().then(t.bind(t,5284))},51850:(e,a,t)=>{"use strict";t.d(a,{r:()=>n});var s=t(22454);let r={generations:{"Gen 8":[{name:"Sok Rathana",quote:"Engineering is the bridge between imagination and reality.",image:"https://i.pravatar.cc/300?u=r1"},{name:"Chan Monika",quote:"Activating potential through technical leadership.",image:"https://i.pravatar.cc/300?u=m2"},{name:"Leng Visal",quote:"STEM-based solutions for a digital Cambodia.",image:"https://i.pravatar.cc/300?u=v3"},{name:"Vannak Devi",quote:"Innovation begins when we dare to solve real-world problems.",image:"https://i.pravatar.cc/300?u=d4"},{name:"Keo Sophea",quote:"Building robust foundations for the future of ICT.",image:"https://i.pravatar.cc/300?u=s5"},{name:"Nhem Borey",quote:"Creativity is intelligence having fun with code.",image:"https://i.pravatar.cc/300?u=b6"}],"Gen 9":[{name:"Som Nara",quote:"Data is the new currency of engineering excellence.",image:"https://i.pravatar.cc/300?u=n1"},{name:"Peou Sila",quote:"Architecting systems that empower the next generation.",image:"https://i.pravatar.cc/300?u=p1"},{name:"Lork Vanda",quote:"The future is bare-metal and cloud-native.",image:"https://i.pravatar.cc/300?u=l1"},{name:"Hem Seyha",quote:"Revealing excellence through focused R&D.",image:"https://i.pravatar.cc/300?u=h1"},{name:"Ouk Samnang",quote:"Leadership in tech requires a creative soul.",image:"https://i.pravatar.cc/300?u=o1"},{name:"Chhay Raksa",quote:"GIC provides the roadmap; we build the journey.",image:"https://i.pravatar.cc/300?u=c1"}]},positions:["absolute top-10 left-[15%] rotate-[-4deg]","absolute top-40 left-[22%] rotate-[6deg]","absolute top-5 left-[38%] rotate-[-8deg]","absolute top-32 left-[52%] rotate-[10deg]","absolute top-20 right-[30%] rotate-[-3deg]","absolute top-52 left-[40%] rotate-[5deg]"]},l=async()=>r;function n(){return(0,s.I)({queryKey:["studentGenerations"],queryFn:l,initialData:r,staleTime:1/0})}}},e=>{e.O(0,[7793,1828,1568,2059,2454,280,6879,324,3540,1629,3586,2114,6715,3927,3821,1443,6876,3435,3484,1908,7991,8441,1255,7358],()=>e(e.s=50177)),_N_E=e.O()}]);