(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1262],{20811:(e,a,t)=>{Promise.resolve().then(t.bind(t,45333))},45333:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>k});var s=t(95155),r=t(12115),l=t(13563),n=t(80331),o=t(22544),i=t(15555),c=t(15065),d=t(23484),m=t(25623),h=t(29875),p=t(98999),u=t(69210),x=t(88407),g=t(85986),b=t(74891),f=t(6005),y=t(36245),j=t(6191),v=t(86651),N=t(13804),w=t(90799),C=t(71360),F=t(21873),I=t(73282);function k(){let{filtered:e,paginated:a,stats:t,filters:k,setFilters:A,form:S,setForm:P,isOpen:T,page:q,setPage:E,totalPages:K,openCreate:L,openEdit:O,upsert:z,remove:D,resetFilters:R,closeModal:M}=function(){let{data:e=[]}=(0,I.j)(),[a,t]=(0,r.useState)([]);(0,r.useEffect)(()=>{e.length&&t(e)},[e]);let[s,l]=(0,r.useState)({query:"",typeFilter:"ALL"}),[n,o]=(0,r.useState)(!1),[i,c]=(0,r.useState)(1),[d,m]=(0,r.useState)({type:"Khmer to France",name:"",destination:"",story:"",focus:"",backgroundImg:"",portrait:"",span:"md:col-span-1 md:row-span-1"}),h=(0,r.useMemo)(()=>({total:a.length,khmerAbroad:a.filter(e=>e.type.includes("Khmer to")).length,international:a.filter(e=>e.type.includes("to Cambodia")).length}),[a]),p=(0,r.useMemo)(()=>a.filter(e=>{let a="".concat(e.name," ").concat(e.destination," ").concat(e.focus).toLowerCase().includes(s.query.toLowerCase()),t="ALL"===s.typeFilter||e.type===s.typeFilter;return a&&t}),[a,s]),u=Math.ceil(p.length/6),x=p.slice((i-1)*6,6*i);return{filtered:p,paginated:x,stats:h,filters:s,setFilters:l,form:d,setForm:m,isOpen:n,setIsOpen:o,page:i,setPage:c,totalPages:u,openCreate:()=>{m({type:"Khmer to France",name:"",destination:"",story:"",focus:"",backgroundImg:"",portrait:"",span:"md:col-span-1 md:row-span-1"}),o(!0)},openEdit:e=>{m(e),o(!0)},upsert:()=>{d.id?t(e=>e.map(e=>e.id===d.id?d:e)):t(e=>[{...d,id:Date.now()},...e]),o(!1)},remove:e=>{t(a=>a.filter(a=>a.id!==e))},resetFilters:()=>l({query:"",typeFilter:"ALL"}),closeModal:()=>o(!1)}}();return(0,s.jsx)("div",{className:"min-h-screen bg-[#F9FAFB] dark:bg-black text-foreground",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-10",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-4xl font-extrabold tracking-tight",children:["Exchange ",(0,s.jsx)("span",{className:"text-primary",children:"Stories"})]}),(0,s.jsx)("p",{className:"text-default-500 mt-1 text-medium",children:"Manage student testimonials and global exchange highlights."})]}),(0,s.jsx)(l.T,{color:"primary",size:"lg",className:"font-bold shadow-lg",startContent:(0,s.jsx)(j.A,{size:20}),onPress:L,children:"Add Story"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-10",children:[{label:"Total Testimonials",val:t.total,color:"text-blue-500",bg:"bg-blue-500/10"},{label:"Khmer Students Abroad",val:t.khmerAbroad,color:"text-emerald-500",bg:"bg-emerald-500/10"},{label:"International Students",val:t.international,color:"text-purple-500",bg:"bg-purple-500/10"}].map((e,a)=>(0,s.jsxs)(n.Z,{shadow:"sm",className:"border-none bg-content1 p-5 flex flex-col items-center text-center",children:[(0,s.jsx)("p",{className:"text-[10px] uppercase font-black text-default-400 tracking-widest",children:e.label}),(0,s.jsx)("p",{className:"text-3xl font-black mt-1 ".concat(e.color),children:e.val})]},a))}),(0,s.jsxs)(n.Z,{className:"p-4 mb-8 bg-content1/70 backdrop-blur-md border-none shadow-sm flex flex-col lg:flex-row gap-4",children:[(0,s.jsx)(o.r,{className:"flex-1",placeholder:"Search students, destinations, or focus...",startContent:(0,s.jsx)(v.A,{size:18,className:"text-default-400"}),value:k.query,onValueChange:e=>A(a=>({...a,query:e}))}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(i.d,{className:"w-56",labelPlacement:"outside",selectedKeys:[k.typeFilter],onSelectionChange:e=>A(a=>({...a,typeFilter:Array.from(e)[0]})),children:[(0,s.jsx)(c.y,{children:"All Directions"},"ALL"),(0,s.jsx)(c.y,{children:"Khmer to France"},"Khmer to France"),(0,s.jsx)(c.y,{children:"French to Cambodia"},"French to Cambodia")]}),(0,s.jsx)(d.I,{content:"Reset Filters",children:(0,s.jsx)(l.T,{isIconOnly:!0,variant:"flat",onPress:R,children:(0,s.jsx)(N.A,{size:18})})})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map(e=>(0,s.jsx)(n.Z,{className:"p-6 border border-divider bg-content1 hover:shadow-md transition-all",children:(0,s.jsxs)("div",{className:"flex gap-5",children:[(0,s.jsx)(m.Q,{src:e.portrait,className:"w-24 h-24 shrink-0 shadow-lg",radius:"lg"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)(h.R,{size:"sm",color:"primary",variant:"flat",className:"font-bold mb-2 uppercase text-[10px]",children:e.type}),(0,s.jsxs)("div",{className:"flex gap-1",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)(l.T,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>O(e),children:(0,s.jsx)(w.A,{size:16})}),(0,s.jsx)(l.T,{isIconOnly:!0,size:"sm",variant:"light",color:"danger",onPress:()=>{confirm("Delete?")&&D(e.id)},children:(0,s.jsx)(C.A,{size:16})})]})]}),(0,s.jsx)("h3",{className:"text-xl font-bold truncate",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-default-500 text-sm mt-1",children:[(0,s.jsx)(F.A,{size:14,className:"text-primary"})," ",e.destination]}),(0,s.jsxs)("p",{className:"mt-4 text-sm text-default-500 italic line-clamp-2 leading-relaxed",children:['"',e.story,'"']})]})]})},e.id))}),(0,s.jsx)("div",{className:"mt-10 flex justify-center",children:(0,s.jsx)(p.T,{total:K,page:q,onChange:E,color:"primary",showControls:!0})}),(0,s.jsx)(u.Y,{isOpen:T,onOpenChange:M,size:"3xl",scrollBehavior:"inside",children:(0,s.jsxs)(x.g,{children:[(0,s.jsx)(g.c,{className:"flex flex-col gap-1 py-6",children:(0,s.jsx)("h2",{className:"text-2xl font-black uppercase tracking-tighter",children:S.id?"Edit Student Story":"Create New Story"})}),(0,s.jsx)(b.h,{className:"pb-10",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,s.jsx)(o.r,{label:"FULL NAME",labelPlacement:"outside",placeholder:"Sok Pongra",value:S.name,onValueChange:e=>P(a=>({...a,name:e}))}),(0,s.jsxs)(i.d,{label:"DIRECTION",labelPlacement:"outside",selectedKeys:S.type?[S.type]:[],onSelectionChange:e=>P(a=>({...a,type:Array.from(e)[0]})),children:[(0,s.jsx)(c.y,{children:"Khmer to France"},"Khmer to France"),(0,s.jsx)(c.y,{children:"French to Cambodia"},"French to Cambodia")]}),(0,s.jsx)(o.r,{label:"DESTINATION",labelPlacement:"outside",placeholder:"INSA Rennes, France",value:S.destination,onValueChange:e=>P(a=>({...a,destination:e}))}),(0,s.jsx)(o.r,{label:"ACADEMIC FOCUS",labelPlacement:"outside",placeholder:"Cybersecurity",value:S.focus,onValueChange:e=>P(a=>({...a,focus:e}))}),(0,s.jsx)(o.r,{className:"col-span-2",label:"PORTRAIT URL",labelPlacement:"outside",value:S.portrait,onValueChange:e=>P(a=>({...a,portrait:e}))}),(0,s.jsx)(f.P,{className:"col-span-2",label:"THE STORY",labelPlacement:"outside",minRows:4,value:S.story,onValueChange:e=>P(a=>({...a,story:e}))})]})}),(0,s.jsxs)(y.q,{className:"border-t border-divider",children:[(0,s.jsx)(l.T,{variant:"flat",onPress:M,children:"Discard"}),(0,s.jsx)(l.T,{color:"primary",className:"font-bold px-10",onPress:z,children:"Save Profile"})]})]})})]})})}},73282:(e,a,t)=>{"use strict";t.d(a,{j:()=>n});var s=t(22454);let r=[{id:1,type:"Khmer to France",name:"Sok Pongra",destination:"INSA Rennes, France",backgroundImg:"https://images.unsplash.com/photo-1499856871958-5b9627545d1a?auto=format&fit=crop&q=80&w=1200",portrait:"https://i.pravatar.cc/150?u=a042581f4e29026704d",story:"Studying in France allowed me to master advanced cybersecurity frameworks that I now use to protect GIC's local server infrastructure.",focus:"Cybersecurity & R&D",activityImages:["https://images.unsplash.com/photo-1563986768609-322da13575f3?auto=format&fit=crop&q=80&w=300","https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?auto=format&fit=crop&q=80&w=300"],span:"md:col-span-2 md:row-span-2"},{id:2,type:"French to Cambodia",name:"Lucas Bernard",destination:"GIC Dept., Cambodia",backgroundImg:"https://images.unsplash.com/photo-1541339907198-e08756dedf3f?auto=format&fit=crop&q=80&w=800",portrait:"https://i.pravatar.cc/150?u=a04258a2462d826712d",story:"The GIC Incubation Hub is unique. Collaborating with Khmer students on AI projects for local agriculture was a highlight.",focus:"AI & Innovation Hub",span:"md:col-span-1 md:row-span-1"},{id:3,type:"Khmer to France",name:"Vannak Devi",destination:"Polytech Nantes, France",backgroundImg:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&q=80&w=800",portrait:"https://i.pravatar.cc/150?u=a04258114e29026302d",story:"Exploring European telecommunication standards moved my leadership skills to the next level for TIC Season 8.",focus:"Telecommunications",activityImages:["https://images.unsplash.com/photo-1523240795612-9a054b0db644?auto=format&fit=crop&q=80&w=300"],span:"md:col-span-1 md:row-span-1"}],l=async()=>r;function n(){return(0,s.I)({queryKey:["exchangeSemester"],queryFn:l,initialData:r,staleTime:1/0})}}},e=>{e.O(0,[7793,1828,1568,2059,2454,280,6879,324,3540,1629,3586,2114,6715,3927,3821,1443,3435,3484,8542,2857,8441,1255,7358],()=>e(e.s=20811)),_N_E=e.O()}]);